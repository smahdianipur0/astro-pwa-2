---
import Tabs from '../components/Tabs.astro';
import RangeSlider from '../components/RangeSlider.astro';
import ToggleGroup from '../components/ToggleGroup.astro';

---
<div id ="maina">
  <div class="card-bg"> </div>
   <Tabs tab1="random" tab2="manual" content1="crandom" content2="cmanual">

      <fragment slot="tab1">
       <RangeSlider/>
       <ToggleGroup/>

        <div class="center" >
          <button  id = "gp" class=" unstyle-button copy"style="font-size:var(--big-font);
            font-family: system-ui;
            font-weight: 300;

            margin-top: 2ch; 
            margin-bottom: 2ch;">
            <div class = "skeleton" style="width:15ch"> </div> 
          </button>

          <button  id = "redo" class=" unstyle-button redo_container" 
            style="font-size:var(--big-font); font-weight: 300; 
            margin-top: 2ch; margin-bottom: 2ch;">
              â†»
          </button> 
          <p id="ttc" class="hint" style="
            margin-top: 2ch; margin-bottom: 2ch;"> tap to copy </p>
        </div>

        <div style="font-size: var(--regular-font);margin-bottom: 2ch;">
          <div id = "gu">  <div class = "skeleton"> </div> </div>
          <p id="box" class="box"></p>
          <div id = "s1">  <div class = "skeleton"> </div> </div>
          <div id = "s2">  <div class = "skeleton"> </div> </div>
        </div>
        <div class = "skeleton"> </div>

      </fragment>

      <fragment slot="tab2">
      hello
      </fragment>

   </Tabs>
   

</div>


<style is:global>

#random:after {
  content: 'Random';
}

#manual:after {
  content: 'Manual';
}



:root:has(#random:checked) { 
  #crandom{
   display: block;
  } .tab__indicator { 
    transform: translate3d(-5ch, 0, 0);
  }
}

:root:has(#manual:checked) {
 #cmanual {
   display: block;
} .tab__indicator { 
   transform: translate3d(5ch, 0, 0);

}
}


.skeleton{
   font-size: inherit;
   height: 1.5ch;
   width: 30ch;
   margin: 0.75ch 0;
   border-radius: 4ch;
   background-color: oklch(0.8 0 0 / 0.4);
  background: linear-gradient(
    100deg,
    rgba(255, 255, 255, 0) 40%,
    rgba(255, 255, 255, .5) 50%,
    rgba(255, 255, 255, 0) 60%
  ) oklch(0.8 0 0 / 0.4);
  background-size: 200% 100%;
  background-position-x: 180%;
  animation: 1s loading ease-in-out infinite;

}

@keyframes loading {
  to {
    background-position-x: -20%;
  }
}

.center {
  display: flex;
  position: relative;
  justify-content: center;
  align-items: center;

}
.unstyle-button{
  background: none;
  border: none;
  box-shadow: none;
  color:var(--accent-color);
  cursor: pointer;
}

.copy{
  border: 1px solid oklch(1 0 0 /0.0);
  border-radius: var(--radiu-a);
  padding: var(--thin-padding);
  line-height: 2ch;
}



.redo_container{
  place-content: center;
  border: 1px solid oklch(1 0 0 /0.0);
  border-radius: var(--radiu-a);
  line-height: 2ch;
  position: absolute;
  right: 0ch;
  padding: var(--thin-padding);

}

.redo_container:focus,
.redo_container:hover{
  border: 1px solid var(--main-border);
}

.copy:focus,
.copy:hover{
  border: 1px solid var(--main-border);
  border-radius: var(--radiu-a);
}

.hint{
  place-content: center;
  border: 1px solid oklch(1 0 0 /0.0);
  position: absolute;
  width: 18ch;
  right: calc(50% - 9ch );
  text-align: center;
  top : 5.5ch;
  opacity: 0.6;
  font-size:var(--extra-small-font); 
  font-weight: 300; 
}

.box {
    display: flex;
    align-items: center;
    transition: width 0.5s, background-color 0.5s, background-position 0.5s ;
    border-radius: var(--radiu-a);
    background-color: red; 
    margin-bottom: 10px;
    height: 0.3ch;
    margin-top: 0.5ch;
    background-image: linear-gradient(to right, #f21616, #f02f11, #d47a20, #719deb, #6977e3, #7643b1, #5d43b1);
    background-clip: content-box;
    background-size: 300% 1ch;
    --box-w: 36%;
    --box-p: 0%;
    width: var(--box-w);
    background-position: var(--box-p);
  }
</style>
